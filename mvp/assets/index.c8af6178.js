import{u as x,E as P,h as f,r as m}from"./vendor.7282221c.js";import{P as j,j as r,a as i,A as k}from"./index.48c8c336.js";import{B as l}from"./index.e0d7f962.js";function B(){var h;const a=x(),e=P(k,n=>n.user),{clearCart:u,addProductToCart:v,removeOneProductQuantity:C,removeProductFromCart:p}=f(j);m.exports.useEffect(()=>{e||a("/")},[a,e]);const c=m.exports.useMemo(()=>{var o;return((o=e==null?void 0:e.cart)==null?void 0:o.map(({price:d,quantity:t})=>d*t).reduce((d,t)=>d+t,0))||0},[e==null?void 0:e.cart]);return r("div",{children:[i("main",{children:r("div",{children:[i("ul",{children:(h=e==null?void 0:e.cart)==null?void 0:h.map(({id:n,name:o,price:d,productId:t,quantity:s})=>r("li",{children:[r("div",{children:[o," - ",d,i(l,{onClick:()=>p(t),children:"X"})]}),i("div",{children:s}),r("div",{children:[i(l,{onClick:()=>v(t),children:"+"}),i(l,{disabled:s===1,onClick:()=>C(t),children:"-"})]})]},n))}),i(l,{onClick:u,children:"Clean cart"})]})}),r("aside",{children:[i("div",{children:r("h3",{children:["$",c-c*.1]})}),r("div",{children:[r("h3",{children:["$",c-c*.1]}),r("p",{children:["12x de $",((c-c*.1)/10).toFixed(2)]}),i("p",{children:"sem juros"})]}),r("div",{children:[r("h3",{children:["$",c]}),i("p",{children:"10% de desconto"})]})]})]})}export{B as default};
