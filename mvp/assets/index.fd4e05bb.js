var B=Object.defineProperty;var v=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var w=(s,l,c)=>l in s?B(s,l,{enumerable:!0,configurable:!0,writable:!0,value:c}):s[l]=c,E=(s,l)=>{for(var c in l||(l={}))P.call(l,c)&&w(s,c,l[c]);if(v)for(var c of v(l))j.call(l,c)&&w(s,c,l[c]);return s};var $=(s,l)=>{var c={};for(var o in s)P.call(s,o)&&l.indexOf(o)<0&&(c[o]=s[o]);if(s!=null&&v)for(var o of v(s))l.indexOf(o)<0&&j.call(s,o)&&(c[o]=s[o]);return c};import{u as O,E as h,r as C,R as m}from"./vendor.e0ff885f.js";import{B as H,s as W}from"./index.3eb9a112.js";import{j as a,a as r,L as N,P as y,A as L}from"./index.87e482b8.js";var Q="/neo-expensive/mvp/assets/Emoji.3a7f0609.png";const S=W("div");function J(){var k,F;const s=O(),l=h(y,e=>e.products),c=h(y,e=>e.removeProductFromCart),o=h(y,e=>e.addProductToCart),R=h(y,e=>e.removeOneProductQuantity),i=h(L,e=>e.user),T=h(L,e=>e.logout),[f,g]=C.exports.useState("orders");C.exports.useEffect(()=>{i||s("/")},[s,i]);const b=C.exports.useMemo(()=>{var n;const e=[];return(n=i==null?void 0:i.orders)==null||n.forEach(({cart:p})=>{p.map(u=>{var x=u,{id:t}=x,d=$(x,["id"]);e.find(A=>A.id===t)||e.push(E({id:t},d))})}),e},[i==null?void 0:i.orders]);return a(S,{children:[r("section",{className:"profile--banner"}),a("div",{className:"profile--avatar",children:[r("img",{src:`https://avatars.dicebear.com/api/identicon/${i==null?void 0:i.id}.svg`||Q,alt:"",className:"profile--avatar--image"}),a("h2",{className:"profile--name",children:["Bem-vindo(a) ao seu perfil ",r("span",{children:i==null?void 0:i.name})]})]}),a("div",{className:"profile--purchase--options",children:[r("div",{onClick:()=>g("orders"),className:"profile--purchase--category",children:r("p",{className:"profile--purchase--history purchaseHistory",children:"Compras"})}),r("div",{onClick:()=>g("ratings"),className:"profile--purchase--category",children:r("p",{className:"profile--purchase--history reviewHistory",children:"Avalia\xE7\xF5es"})}),r("div",{onClick:()=>g("cart"),className:"profile--purchase--category",children:r("p",{className:"profile--purchase--history reviewHistory",children:"Carrinho"})}),r("div",{onClick:()=>g("settings"),className:"profile--purchase--category",children:r("p",{className:"profile--purchase--history reviewHistory",children:"Settings"})})]}),f==="orders"&&a("div",{className:"profile--purchase--wrapper purchaseWrapper",children:[b.length===0&&a("div",{children:[a("p",{children:["looks like you ","haven't"," ordered anything yet..."]}),r(N,{href:"/",children:r(H,{children:"see some special deals"})})]}),b.map(({id:e,name:n,image:p,price:t})=>a("div",{className:"profile--purchase",children:[r(N,{href:`${n.toLowerCase().split(", ").join("-").split(" ").join("-")}}`,className:"profile--history--card",children:r("img",{src:p,alt:"",className:"profile--product"})}),a("div",{className:"profile--history--card",children:[r("p",{className:"profile--history--card--paragraph",children:n}),a("p",{className:"profile--history--card--price",children:["R$ ",t]})]})]},e))]}),f==="ratings"&&r("div",{className:"profile--review--wrapper reviewWrapper",children:(k=i==null?void 0:i.ratings)==null?void 0:k.map(({id:e,productId:n,description:p})=>{const t=l.find(d=>d.id===n);return t&&a("div",{className:"profile--purchase",children:[r(N,{href:"#",className:"profile--history--card",children:r("img",{src:t==null?void 0:t.image,alt:"",className:"profile--product"})}),a("div",{className:"profile--history--card",children:[r("p",{className:"profile--history--card--paragraph",children:t.name}),r("p",{className:"profile--history--card--paragraph",children:p}),r("div",{className:"rating--css rating--profile",children:a("div",{className:"star--icon star--profile",children:[t.rating===1&&a(m.Fragment,{children:[r("input",{type:"radio",name:"rating1",id:"rating1"}),r("label",{htmlFor:"rating1",className:"fa fa-star"})]}),t.rating===2&&a(m.Fragment,{children:[r("input",{type:"radio",name:"rating1",id:"rating2"}),r("label",{htmlFor:"rating2",className:"fa fa-star"})]}),t.rating===3&&a(m.Fragment,{children:[r("input",{type:"radio",name:"rating1",id:"rating3"}),r("label",{htmlFor:"rating3",className:"fa fa-star"})]}),t.rating===4&&a(m.Fragment,{children:[r("input",{type:"radio",name:"rating1",id:"rating4"}),r("label",{htmlFor:"rating4",className:"fa fa-star"})]}),t.rating===5&&a(m.Fragment,{children:[r("input",{type:"radio",name:"rating1",id:"rating5"}),r("label",{htmlFor:"rating5",className:"fa fa-star"})]})]})})]})]},e)})}),f==="cart"&&r("div",{className:"profile--purchase--wrapper purchaseWrapper",children:(F=i==null?void 0:i.cart)==null?void 0:F.map(({id:e,name:n,image:p,price:t,quantity:d,productId:u})=>a("div",{className:"profile--purchase",children:[r(N,{href:`${n.toLowerCase().split(", ").join("-").split(" ").join("-")}}`,className:"profile--history--card",children:r("img",{src:p,alt:"",className:"profile--product"})}),a("div",{className:"profile--history--card",children:[r("p",{className:"profile--history--card--paragraph",children:n}),a("p",{className:"profile--history--card--price",children:["R$ ",t]})]}),d,a("div",{children:[r("button",{onClick:()=>o(u),children:"+"}),r("button",{disabled:d===1,onClick:()=>R(u),children:"-"})]}),r("button",{onClick:()=>s("/checkout"),children:"comprar"}),r("button",{onClick:()=>c(u),children:"remove"})]},e))}),f==="settings"&&r("div",{children:r(H,{onClick:T,children:"logout"})})]})}export{J as default};
