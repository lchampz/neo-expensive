var z=Object.defineProperty,J=Object.defineProperties;var X=Object.getOwnPropertyDescriptors;var v=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,q=Object.prototype.propertyIsEnumerable;var I=(r,s,a)=>s in r?z(r,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[s]=a,E=(r,s)=>{for(var a in s||(s={}))U.call(s,a)&&I(r,a,s[a]);if(v)for(var a of v(s))q.call(s,a)&&I(r,a,s[a]);return r},_=(r,s)=>J(r,X(s));var P=(r,s)=>{var a={};for(var t in r)U.call(r,t)&&s.indexOf(t)<0&&(a[t]=r[t]);if(r!=null&&v)for(var t of v(r))s.indexOf(t)<0&&q.call(r,t)&&(a[t]=r[t]);return a};import{r as l,u as G,E as H}from"./vendor.7282221c.js";import{b as x,F as O,a as R,c as Q,d as V}from"./index.esm.4ec74241.js";import{I as m,i as W}from"./index.8a0a8cf9.js";import{U as Y}from"./undraw_abstract.ecf3167d.js";import{N as Z}from"./neo-dpad-logo.f322df3c.js";import{a as e,j as c,L as ee,A as re}from"./index.48c8c336.js";import{B as F,s as D}from"./index.e0d7f962.js";function ae(s){var r=P(s,[]);const a=l.exports.useMemo(()=>14,[]),t=l.exports.useCallback(p=>{p.currentTarget.maxLength=a;let n=p.currentTarget.value;n.match(/^(\d{3}).(\d{3}).(\d{3})-(\d{2})$/)||(n=n.replace(/\D/g,""),n=n.replace(/(\d{3})(\d)/,"$1.$2"),n=n.replace(/(\d{3})(\d)/,"$1.$2"),n=n.replace(/(\d{3})(\d{2})$/,"$1-$2"),p.currentTarget.value=n)},[a]);return e(m,_(E({},r),{onKeyUp:t,maxLength:a}))}function te(s){var r=P(s,[]);const a=l.exports.useMemo(()=>9,[]),t=l.exports.useCallback(p=>{p.currentTarget.maxLength=a;let n=p.currentTarget.value;n=n.replace(/\D/g,""),n=n.replace(/^(\d{5})(\d)/,"$1-$2"),p.currentTarget.value=n},[a]);return e(m,_(E({},r),{onKeyUp:t,maxLength:a}))}const se="_container_mtpvg_1",ne="_step_mtpvg_1";var h={container:se,step:ne,"step-0":"_step-0_mtpvg_4","step-1":"_step-1_mtpvg_8","step-2":"_step-2_mtpvg_12"};const oe=D("div"),d=D("section",{margin:"12px 0"}),le=D("span",{backgroundImage:"linear-gradient($accent100, $accent200);",backgroundSize:"0% 2px",backgroundRepeat:"no-repeat",backgroundPosition:"left bottom",transition:"all 200ms",width:"max-content","&:hover":{backgroundSize:"100% 2px"}});function fe(){const r=l.exports.useRef(null),s=G(),a=H(re,o=>o.register),[t,p]=l.exports.useState(0),[n,i]=l.exports.useState(!1),[S,w]=l.exports.useState(!0),[T,L]=l.exports.useState(!1),j=l.exports.useCallback(async o=>{const{name:g,email:b,cpf:f,birthDate:N,password:k}=o,{errors:C}=await a({name:g,email:b,cpf:f,birthDate:N,password:k});if(C){C.forEach(({field:$,message:y})=>{var M;return(M=r.current)==null?void 0:M.setFieldError($,y)});return}s("/email/confirmation")},[s,a]),A=l.exports.useCallback(()=>{var f;const{password:o,confirmPassword:g}=(f=r.current)==null?void 0:f.getData(),b=o===g;if(t===0){if(!o||!g){w(!0),i(!1);return}if(b){i(!0),w(!1),L(!0);return}i(!1),w(!1),L(!1)}},[t]),u=l.exports.useCallback(()=>{var y;const{name:o,email:g,password:b,confirmPassword:f,cpf:N,birthDate:k,cep:C,number:$}=(y=r.current)==null?void 0:y.getData();if(i(!1),t===0){if(!o||!g||!b||!f){i(!1);return}i(!0);return}if(t===1){if(!N||!k){i(!1);return}i(!0);return}if(t===2){if(!C||!$){i(!1);return}i(!0);return}},[t]),B=l.exports.useCallback(()=>{p(o=>o+1),i(!1)},[]),K=l.exports.useCallback(()=>{i(!0),p(o=>o-1)},[]);return e(oe,{className:`${h.container} register--body`,"data-active-step":t,children:c("section",{className:"register--body--wrapper",children:[c("section",{className:"register--illustration",children:[e("img",{src:Y,alt:"",className:"register--illustration--image"}),e("h1",{className:"register--illustration--header",children:"Entre para a Neo Expensive"}),e("p",{className:"register--illustration--paragraph",children:"Aproveite milhares de ofertas, pre\xE7os baixos e a melhor experi\xEAncia."}),e(le,{className:"register--form--heading--link",children:e(ee,{href:"/login",children:e("p",{className:"register--form--heading--paragraph",children:"J\xE1 tem uma conta? Login"})})})]}),c("section",{className:"register--form--wrapper",children:[c(W,{ref:r,onSubmit:j,className:"register--form",children:[c("div",{className:"register--form--heading",children:[e("div",{className:"register--form--heading--image",children:e("img",{src:Z,alt:"Neo DPad Logo"})}),e("h1",{className:"register--form--heading--header",children:"Explore a Neo Expensive"})]}),c("div",{className:`${h.step} ${h["step-0"]}`,children:[e(d,{children:e(m,{autoFocus:!0,required:!0,name:"name",label:"Enter your name",placeholder:"john doe",icon:e(x,{}),onChange:u})}),e(d,{children:e(m,{required:!0,name:"email",label:"Enter your e-mail",placeholder:"support@neo-expensive.com",icon:e(O,{}),onChange:u})}),e(d,{children:e(m,{required:!0,type:"password",name:"password",label:"Enter your password",placeholder:"**************",icon:e(R,{}),onChange:()=>{u(),A()}})}),e(d,{children:e(m,{required:!0,type:"password",name:"confirmPassword",label:"Confirm your password",placeholder:"**************",icon:e(R,{}),onChange:()=>{u(),A()}})}),T?S?null:c("span",{style:{color:"#AAEECD",display:"flex",alignItems:"center",gap:"6px"},children:[e(Q,{}),"the password match"]}):S?null:c("span",{style:{color:"#FF5C5C",display:"flex",alignItems:"center",gap:"6px"},children:[e(V,{}),"the password do not match"]})]}),c("div",{className:`${h.step} ${h["step-1"]}`,children:[e(d,{children:e(ae,{required:!0,name:"cpf",label:"CPF",placeholder:"000.000.000-00",icon:e(x,{}),onChange:u})}),e(d,{children:e(m,{required:!0,type:"date",name:"birthDate",label:"Birth Date",placeholder:"24/12/12",icon:e(x,{}),onChange:u})})]}),c("div",{className:`${h.step} ${h["step-2"]}`,children:[e(d,{children:e(te,{name:"cep",label:"CPF",placeholder:"046943-293",icon:e(x,{}),onChange:u})}),e(d,{children:e(m,{name:"number",label:"Number",placeholder:"2",icon:e(x,{}),onChange:u})}),e(d,{children:e(m,{optional:!0,name:"complement",label:"Complement",placeholder:"apartment 4",icon:e(x,{}),onChange:u})})]})]}),e(d,{style:{width:"100%"},children:c("div",{style:{display:"flex",flexDirection:"column",gap:"8px",width:"100%"},children:[c("div",{style:{display:"flex",gap:"8px"},children:[e(F,{variant:"outlined",noload:!0,disabled:t===0,onClick:K,type:"button",children:"Back"}),e(F,{variant:"outlined",noload:!0,disabled:!n||t===2,onClick:B,type:"button",children:"next"})]}),e(d,{children:t===2&&e(F,{disabled:!(t===2&&n),type:"submit",onClick:()=>{var o;return(o=r.current)==null?void 0:o.submitForm()},children:"Create my account"})})]})})]})]})})}export{oe as Container,d as Margin,le as SpecialLink,fe as default};
